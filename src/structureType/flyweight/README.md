# 享元模式

## 目的

> 使用享元模式可以有效的解决大量细小对象的问题

## 解释说明

### 真实世界的例子

> 炼金术店铺的货架上摆满了魔法药水.因为许多药水是一样,所以没有比要为
每一瓶药水都创建对象.相反的,一个药水实例可表示整个货架项目.因此在程序
中也减少了内存消耗.

### 简单来说

> 它用于最小化内存或计算开销,通过与类似对象共享尽可能多的资源.

### 维基百科

> 享元模式是通过与其他类似对象共享尽可能多的数据来最小化内存使用的对象.
享元模式是解决大量对象的方法,例如当一个简单重复的对象使用不可接受的内存数量时.

## 具体代码
让我们来实现前面药水的例子,首先我们有不同的药水 

见 structType/flyweight包

## 使用场景

享元模式的有效性很大程度上取决于如何和在哪使用.当所有下列的情况都为true时,
应用享元模式:

* 应用程序使用大量对象
* 存储对象的成本很高,因为对象的成本非常多
* 大多数的对象状态可以使外部的
* 一旦外部状态被移除,许多对象组可能被相对较少的共享对象所取代
* 应用程序不依赖于对象标识。由于可以共享flyweight对象，所以对于概念上不同的对象，身份测试将返回true。